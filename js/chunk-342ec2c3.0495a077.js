(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-342ec2c3"],{"0662":function(t,e,a){"use strict";var r=a("1357"),n=a.n(r);n.a},1357:function(t,e,a){},"454f":function(t,e,a){a("46a7");var r=a("584a").Object;t.exports=function(t,e,a){return r.defineProperty(t,e,a)}},"46a7":function(t,e,a){var r=a("63b6");r(r.S+r.F*!a("8e60"),"Object",{defineProperty:a("d9f6").f})},"4f7f":function(t,e,a){"use strict";var r=a("c26b"),n=a("b39a"),i="Set";t.exports=a("e0b8")(i,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(n(this,i),t=0===t?0:t,t)}},r)},"5df3":function(t,e,a){"use strict";var r=a("02f4")(!0);a("01f9")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,a=this._i;return a>=e.length?{value:void 0,done:!0}:(t=r(e,a),this._i+=t.length,{value:t,done:!1})}))},"67ab":function(t,e,a){var r=a("ca5a")("meta"),n=a("d3f4"),i=a("69a8"),s=a("86cc").f,o=0,c=Object.isExtensible||function(){return!0},u=!a("79e5")((function(){return c(Object.preventExtensions({}))})),l=function(t){s(t,r,{value:{i:"O"+ ++o,w:{}}})},d=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!e)return"E";l(t)}return t[r].i},f=function(t,e){if(!i(t,r)){if(!c(t))return!0;if(!e)return!1;l(t)}return t[r].w},p=function(t){return u&&v.NEED&&c(t)&&!i(t,r)&&l(t),t},v=t.exports={KEY:r,NEED:!1,fastKey:d,getWeak:f,onFreeze:p}},"85f2":function(t,e,a){t.exports=a("454f")},"8e6e":function(t,e,a){var r=a("5ca1"),n=a("990b"),i=a("6821"),s=a("11e9"),o=a("f1ae");r(r.S,"Object",{getOwnPropertyDescriptors:function(t){var e,a,r=i(t),c=s.f,u=n(r),l={},d=0;while(u.length>d)a=c(r,e=u[d++]),void 0!==a&&o(l,e,a);return l}})},"990b":function(t,e,a){var r=a("9093"),n=a("2621"),i=a("cb7c"),s=a("7726").Reflect;t.exports=s&&s.ownKeys||function(t){var e=r.f(i(t)),a=n.f;return a?e.concat(a(t)):e}},b39a:function(t,e,a){var r=a("d3f4");t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},bd86:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var r=a("85f2"),n=a.n(r);function i(t,e,a){return e in t?n()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},c26b:function(t,e,a){"use strict";var r=a("86cc").f,n=a("2aeb"),i=a("dcbc"),s=a("9b43"),o=a("f605"),c=a("4a59"),u=a("01f9"),l=a("d53b"),d=a("7a56"),f=a("9e1e"),p=a("67ab").fastKey,v=a("b39a"),g=f?"_s":"size",_=function(t,e){var a,r=p(e);if("F"!==r)return t._i[r];for(a=t._f;a;a=a.n)if(a.k==e)return a};t.exports={getConstructor:function(t,e,a,u){var l=t((function(t,r){o(t,l,e,"_i"),t._t=e,t._i=n(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=r&&c(r,a,t[u],t)}));return i(l.prototype,{clear:function(){for(var t=v(this,e),a=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete a[r.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var a=v(this,e),r=_(a,t);if(r){var n=r.n,i=r.p;delete a._i[r.i],r.r=!0,i&&(i.n=n),n&&(n.p=i),a._f==r&&(a._f=n),a._l==r&&(a._l=i),a[g]--}return!!r},forEach:function(t){v(this,e);var a,r=s(t,arguments.length>1?arguments[1]:void 0,3);while(a=a?a.n:this._f){r(a.v,a.k,this);while(a&&a.r)a=a.p}},has:function(t){return!!_(v(this,e),t)}}),f&&r(l.prototype,"size",{get:function(){return v(this,e)[g]}}),l},def:function(t,e,a){var r,n,i=_(t,e);return i?i.v=a:(t._l=i={i:n=p(e,!0),k:e,v:a,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[g]++,"F"!==n&&(t._i[n]=i)),t},getEntry:_,setStrong:function(t,e,a){u(t,e,(function(t,a){this._t=v(t,e),this._k=a,this._l=void 0}),(function(){var t=this,e=t._k,a=t._l;while(a&&a.r)a=a.p;return t._t&&(t._l=a=a?a.n:t._t._f)?l(0,"keys"==e?a.k:"values"==e?a.v:[a.k,a.v]):(t._t=void 0,l(1))}),a?"entries":"values",!a,!0),d(e)}}},e0b8:function(t,e,a){"use strict";var r=a("7726"),n=a("5ca1"),i=a("2aba"),s=a("dcbc"),o=a("67ab"),c=a("4a59"),u=a("f605"),l=a("d3f4"),d=a("79e5"),f=a("5cc5"),p=a("7f20"),v=a("5dbc");t.exports=function(t,e,a,g,_,m){var b=r[t],h=b,C=_?"set":"add",y=h&&h.prototype,w={},k=function(t){var e=y[t];i(y,t,"delete"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,a){return e.call(this,0===t?0:t,a),this})};if("function"==typeof h&&(m||y.forEach&&!d((function(){(new h).entries().next()})))){var O=new h,x=O[C](m?{}:-0,1)!=O,I=d((function(){O.has(1)})),j=f((function(t){new h(t)})),E=!m&&d((function(){var t=new h,e=5;while(e--)t[C](e,e);return!t.has(-0)}));j||(h=e((function(e,a){u(e,h,t);var r=v(new b,e,h);return void 0!=a&&c(a,_,r[C],r),r})),h.prototype=y,y.constructor=h),(I||E)&&(k("delete"),k("has"),_&&k("get")),(E||x)&&k(C),m&&y.clear&&delete y.clear}else h=g.getConstructor(e,t,_,C),s(h.prototype,a),o.NEED=!0;return p(h,t),w[t]=h,n(n.G+n.W+n.F*(h!=b),w),m||g.setStrong(h,t,_),h}},f1ae:function(t,e,a){"use strict";var r=a("86cc"),n=a("4630");t.exports=function(t,e,a){e in t?r.f(t,e,n(0,a)):t[e]=a}},ff1a:function(t,e,a){"use strict";a.r(e);var r,n,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-auto"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"container mt-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-2 col-md-2 col-sm-12 mb-2"},[a("Sidebar",{attrs:{categoryList:t.categoryList},on:{selectCategory:t.selectCategory}})],1),a("div",{staticClass:"col-lg-10 col-md-10 col-sm-12"},[a("div",{staticClass:"row"},t._l(t.productsList,(function(e){return a("div",{key:e.id,staticClass:"col-lg-4 col-md-6 mb-4"},[a("section",{staticClass:"cards"},[a("article",{staticClass:"card--1"},[a("div",{staticClass:"card__info-hover"},[a("svg",{staticClass:"card__like",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"#000000",d:"M12.1,18.55L12,18.65L11.89,18.55C7.14,14.24 4,11.39 4,8.5C4,6.5 5.5,5 7.5,5C9.04,5 10.54,6 11.07,7.36H12.93C13.46,6 14.96,5 16.5,5C18.5,5 20,6.5 20,8.5C20,11.39 16.86,14.24 12.1,18.55M16.5,3C14.76,3 13.09,3.81 12,5.08C10.91,3.81 9.24,3 7.5,3C4.42,3 2,5.41 2,8.5C2,12.27 5.4,15.36 10.55,20.03L12,21.35L13.45,20.03C18.6,15.36 22,12.27 22,8.5C22,5.41 19.58,3 16.5,3Z"}})]),a("div",{staticClass:"card__cart",on:{click:function(a){return t.addtoCart(e.id,1)}}},[a("i",{staticClass:"fas fa-shopping-cart"})])]),a("div",{staticClass:"card__img",style:{backgroundImage:"url("+e.imageUrl+")"}}),a("router-link",{staticClass:"card_link",attrs:{to:"/product/"+e.id}},[a("div",{staticClass:"card__img--hover",style:{backgroundImage:"url("+e.imageUrl+")"}})]),a("div",{staticClass:"card__info"},[a("span",{staticClass:"card__category"},[t._v(t._s(e.category))]),a("h3",{staticClass:"card__title"},[t._v(t._s(e.title))]),a("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[a("span",{staticClass:"card__origin_price"},[a("del",[t._v("原價 "+t._s(e.origin_price)+" 元")])]),a("span",{staticClass:"card__price"},[t._v("現在只要 "+t._s(e.price)+" 元")])])])],1)])])})),0)])])]),a("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(t.product.title))]),t._m(0)]),a("div",{staticClass:"modal-body"},[a("img",{staticClass:"img-fluid",attrs:{src:t.product.imageUrl,alt:""}}),a("blockquote",{staticClass:"blockquote mt-3"},[a("p",{staticClass:"mb-0"},[t._v(t._s(t.product.content))]),a("footer",{staticClass:"blockquote-footer text-right"},[t._v(t._s(t.product.description))])]),a("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[t.product.price?t._e():a("div",{staticClass:"h4"},[t._v(t._s(t.product.origin_price)+" 元")]),t.product.price?a("del",{staticClass:"h6"},[t._v("原價 "+t._s(t.product.origin_price)+" 元")]):t._e(),t.product.price?a("div",{staticClass:"h4"},[t._v("現在只要 "+t._s(t.product.price)+" 元")]):t._e()]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"form-control mt-3",attrs:{name:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.product,"num",e.target.multiple?a:a[0])}}},t._l(10,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v("選購 "+t._s(e)+" "+t._s(t.product.unit))])})),0)]),a("div",{staticClass:"modal-footer"},[a("div",{staticClass:"text-muted text-nowrap mr-3"},[t._v("\n            小計\n            "),a("strong",[t._v(t._s(t.product.num*t.product.price))]),t._v(" 元\n          ")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.addtoCart(t.product.id,t.product.num)}}},[t.product.id===t.status.loadingItem?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n            加到購物車\n          ")])])])])]),a("div",{staticClass:"cart"},[a("router-link",{attrs:{to:"/cartItem"}},[a("i",{staticClass:"fas fa-shopping-cart"}),a("span",{staticClass:"badge badge-warning",attrs:{id:"lblCartCount"}},[t._v(t._s(t.cartNumber))])])],1)],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],o=(a("8e6e"),a("456d"),a("ac6a"),a("5df3"),a("4f7f"),a("bd86")),c=a("1157"),u=a.n(c),l=a("49c9"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"nav flex-column sticky-top"},[a("a",[a("span",{staticClass:"nav-link mb-2 products-type",class:""==t.categoryItem?"products-active":"",on:{click:function(e){return t.selectCategory("")}}},[""==t.categoryItem?a("i",{staticClass:"fas fa-angle-right"}):t._e(),t._v("全部商品\n      ")])]),t._l(t.categoryList,(function(e,r){return a("a",{key:r},[a("span",{staticClass:"nav-link mb-2 products-type",class:t.categoryItem==e?"products-active":"",attrs:{value:e},on:{click:function(a){return t.selectCategory(e)}}},[t.categoryItem==e?a("i",{staticClass:"fas fa-angle-right"}):t._e(),t._v("\n        "+t._s(e)+"\n      ")])])})),t._m(0)],2)])},f=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group mt-2 mb-3"},[a("input",{staticClass:"form-control",staticStyle:{border:"1px solid rgb(75, 153, 131)"},attrs:{type:"text",placeholder:"輸入關鍵字"}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[a("i",{staticClass:"fas fa-search"})])])])}],p={name:"SidebarCustomer",props:["categoryList"],data:function(){return{show:!1,categoryItem:""}},created:function(){r=this},methods:{selectCategory:function(t){r.categoryItem=t,this.$emit("selectCategory",t)}}},v=p,g=(a("0662"),a("2877")),_=Object(g["a"])(v,d,f,!1,null,null,null),m=_.exports,b=a("2f62");function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function C(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(a,!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var y={components:{Sidebar:m},data:function(){return{products:[],product:{},isLoading:!1,status:{loadingItem:""},form:{user:{name:"",email:"",tel:"",address:""},message:""},coupon_code:"",categoryItem:"",swiperOption:{spaceBetween:50,centeredSlides:!0,loop:!0,effect:"fade",autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0}}}},computed:C({},Object(b["c"])({cart:function(t){return t.cart}}),{categoryList:function(){var t=new Set,e=new Set;return n.products.forEach((function(a){t.has(a.category)?e.add(a.category):t.add(a.category)})),t},productsList:function(){return n.products.filter((function(t){return""==n.categoryItem?t:t.category==n.categoryItem}))},cartNumber:function(){return n.cart.carts?n.cart.carts.length:0}}),methods:C({},Object(b["b"])(["getCart"]),{getProducts:function(){n.isLoading=!0,l["a"].get("products").then((function(t){console.log(t.data),n.isLoading=!1,n.products=t.data.products}))},getProduct:function(t){n.status.loadingItem=t,l["a"].get("product/".concat(t)).then((function(t){console.log(t.data),n.product=t.data.product,u()("#productModal").modal("show"),n.status.loadingItem=""}))},addtoCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;n.status.loadingItem=t,this.$store.dispatch("addtoCart",{id:t,qty:e}),n.status.loadingItem=""},removeCartItem:function(t){this.$store.dispatch("removeCartItem",{id:t})},addCouponCode:function(){var t={code:n.coupon_code};n.isLoading=!0,l["a"].post("coupon",{data:t}).then((function(t){n.getCart(),console.log(t),n.isLoading=!1}))},createOrder:function(){var t=n.form;this.$validator.validate().then((function(e){e?l["a"].post("order",{data:t}).then((function(t){console.log("訂單已建立",t),t.data.success&&n.$router.push("/customer_checkout/".concat(t.data.orderId)),n.isLoading=!1})):console.log("欄位不完整")}))},selectCategory:function(t){n.categoryItem=t}}),created:function(){n=this,n.getProducts(),n.getCart()}},w=y,k=Object(g["a"])(w,i,s,!1,null,null,null);e["default"]=k.exports}}]);